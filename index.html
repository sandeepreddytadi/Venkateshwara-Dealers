<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Venkateshwara Dealers — Smart Irrigation Pumps</title>
  <meta name="description" content="Agriculture pumps, irrigation solutions, and an intelligent pump recommendation tool." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --brand: #0ea44b;       /* primary green */
      --brand-600: #0b8a3e;
      --brand-700: #096e33;
      --ink: #0f172a;         /* slate-900 */
      --muted: #475569;       /* slate-600 */
      --bg: #fafafa;
      --card: #ffffff;
      --ring: rgba(14,164,75,0.25);
      --shadow: 0 10px 20px rgba(2, 6, 23, 0.05), 0 2px 6px rgba(2, 6, 23, 0.04);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--ink);
      background: var(--bg);
      line-height: 1.6;
    }
    a, .lang-heading { color: var(--brand-600); text-decoration: none; }
    a:hover, .lang-heading:hover { color: var(--brand-700); }

    /* Layout */
    .container { max-width: 1200px; margin: 0 auto; padding: 0 1rem; }

    /* Header */
    .language-modal {
      position: fixed;
      z-index: 100;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(2,6,23,0.4);
      display: flex;
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
      opacity: 0; /* Initially hidden with opacity */
      visibility: hidden;
    }
    .language-modal.is-active {
      opacity: 1;
      visibility: visible;
    }
    .modal-content {
      background-color: var(--card);
      padding: 2.5rem 2rem;
      border-radius: 1rem;
      text-align: center;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1), 0 4px 8px rgba(0,0,0,0.06);
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      max-width: 600px;
      width: 90%;
    }
    .modal-content h3 {
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0;
    }
    .button-group {
      display: flex;
      gap: 1rem;
    }
    .modal-btn {
      flex-grow: 1;
      padding: 1rem 1.5rem;
      font-size: 1.1rem;
      border-radius: 0.8rem;
      border: 1px solid rgba(2,6,23,0.1);
      cursor: pointer;
      background: #fff;
      color: var(--ink);
      font-weight: 600;
      transition: all 0.2s ease-in-out;
    }
    .modal-btn:hover {
      background: var(--brand);
      border-color: var(--brand);
      color: #fff;
    }

    .topbar { background: #c40000; color: #d1fae5; font-size: .9rem; }
    .topbar .container { display: flex; align-items: center; justify-content: center; padding: .4rem 1rem; }
    .topbar-content { 
      white-space: nowrap; 
    }
    .topbar a { 
      font-weight: bold; 
      color: #d1fae5;
    }
    
    header.nav {
      position: sticky; top: 0; z-index: 20;
      backdrop-filter: saturate(1.2) blur(6px);
      background: rgba(250,250,250,.9);
      border-bottom: 1px solid rgba(2,6,23,.06);
    }
    .nav-inner { display: flex; align-items: center; justify-content: space-between; padding: .8rem 0; }
    .brand { display: flex; gap: .6rem; align-items: center; font-weight: 800; letter-spacing: .2px; }
    .brand .logo { width: 36px; height: 36px; display: grid; place-items: center; border-radius: 10px; background: linear-gradient(135deg, var(--brand), #34d399); color: #fff; box-shadow: var(--shadow); }
    .brand span { font-size: 1.15rem; }
    nav ul { margin: 0; padding: 0; list-style: none; display: flex; gap: 1.25rem; align-items: center; }
    .btn { display: inline-flex; align-items: center; gap: .5rem; border: 1px solid rgba(2,6,23,.08); padding: .6rem .9rem; border-radius: .8rem; background: #fff; box-shadow: var(--shadow); font-weight: 600; }
    .btn.primary { background: var(--brand); color: #fff; border-color: transparent; }
    .btn.primary:hover { background: var(--brand-600); }
    /* Language Dropdown Styles */
.language-select-container {
  position: relative;
  cursor: pointer;
}

.language-select-container .lang-options {
  display: none;
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  background-color: var(--card);
  border: 1px solid rgba(2, 6, 23, 0.08);
  border-radius: 0.8rem;
  padding: 0.5rem;
  box-shadow: var(--shadow);
  z-index: 10;
  flex-direction: column;
  gap: 0.5rem;
  min-width: 100px;
}

.language-select-container:hover .lang-options {
  display: flex;
}

.lang-link {
  padding: 0.5rem 0.8rem;
  border-radius: 0.5rem;
  text-align: center;
}

.lang-link:hover {
  background: var(--brand);
  color: #fff;
}

.lang-link.is-active {
  background: var(--brand);
  color: #fff;
}

/* Mobile language dropdown (hidden by default) */
.mobile-language-select .lang-options {
  display: none;
  flex-direction: row;
  gap: 0.8rem;
  margin-top: 0.8rem;
}

.mobile-language-select.open .lang-options {
  display: flex;
}

.mobile-language-select .lang-heading {
  margin-bottom: 0;
  font-weight: 600;
  font-size: 1.2rem;
  cursor: pointer;
}
    
    /* Hamburger Menu */
    /* NEW: Change hamburger menu position and styling */
    .menu-toggle {
      display: none;
      background: none;
      border: none;
      cursor: pointer;
      padding: 0;
      width: 30px;
      height: 30px;
      position: relative;
      z-index: 80;
    }
    .menu-toggle .hamburger-icon,
    .menu-toggle .hamburger-icon::before,
    .menu-toggle .hamburger-icon::after {
      content: '';
      display: block;
      height: 2px;
      width: 100%;
      background-color: var(--ink);
      position: absolute;
      transition: transform 0.3s ease, opacity 0.3s ease;
      border-radius: 2px;
    }
    .menu-toggle .hamburger-icon {
      top: 50%;
      left: 0;
      transform: translateY(-50%);
    }
    .menu-toggle .hamburger-icon::before {
      top: -8px;
    }
    .menu-toggle .hamburger-icon::after {
      top: 8px;
    }

    /* MODIFIED: The mobile nav is now a sidebar that overlays the content */
    .mobile-nav-menu {
      display: none; /* Keep this for desktop but override for mobile */
      position: fixed;
      top: 2.5rem;
      right: 0;
      width: 100%;
      height: 100vh;
      background: rgba(250,250,250,.95); 
      backdrop-filter: blur(8px);
      z-index: 90;
      padding-top: 50px;
      flex-direction: column;
      align-items: center;
      transition: transform 0.5s ease; /* Smooth transition */
      overflow-x: hidden;
      transform: translateX(100%); /* Hides the sidebar by default */
    }
    /* MODIFIED: Styles for open sidebar */
    .mobile-nav-menu.is-active {
        transform: translateX(0); /* Moves it into view */
        padding-top: 60px;
    }
    .mobile-nav-menu a {
        text-decoration: none;
        font-size: 20px;
        color: #818181;
        display: block;
        transition: 0.3s;
    }
    
    .mobile-nav-menu a:hover {
        color: #f1f1f1;
    }
    .mobile-nav-menu .closebtn {
        position: absolute;
        top: 0;
        right: 25px;
        font-size: 36px;
        margin-left: 50px;
    }

    .mobile-nav-menu ul {
      flex-direction: column;
      gap: 2rem;
      width: 100%;
      list-style: none;
      padding: 0;
      margin-left: 40%;
    }
    
    .mobile-nav-menu li a, .mobile-nav-menu li .lang-heading {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--brand-600); text-decoration: none;
    }
    .mobile-nav-menu li a:hover, .mobile-nav-menu li .lang-heading:hover {
        color: var(--brand-700);
    }

    /* Hero */
    .hero { position: relative; }
    .hero-inner { display: grid; grid-template-columns: 1.1fr .9fr; gap: 2rem; align-items: center; padding: 3.2rem 0 2.8rem; }
    .hero h1 { font-size: clamp(2rem, 4vw, 3rem); line-height: 1.1; margin: 0 0 1rem; letter-spacing: -.5px; }
    .hero p { color: var(--muted); font-size: 1.05rem; margin: 0 0 1.2rem; }
    .metrics { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: .8rem; margin-top: 1.2rem; }
    .metric { background: #fff; border-radius: 16px; padding: 1rem; box-shadow: var(--shadow); text-align: center; }
    .metric strong { font-size: 1.3rem; display: block; }
    .hero-art { position: relative; }
    .art-card { background: linear-gradient(135deg, #e8fff2, #fff); border-radius: 24px; padding: 1.2rem; box-shadow: var(--shadow); }
    .art-img { width: 100%; aspect-ratio: 4/3; border-radius: 16px; background: url('https://images.unsplash.com/photo-1556196148-1fb724238998?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat; border: 1px solid rgba(2,6,23,.06); }

    /* Sections */
    section { padding: 3rem 0; }
    .section-head { display: flex; align-items: end; justify-content: space-between; margin-bottom: 1.2rem; }
    .section-head h2 { margin: 0; font-size: 1.8rem; }
    .muted { color: var(--muted); }

    /* Products grid */
    .grid { 
      display: grid; 
      grid-template-columns: repeat(12, 1fr); 
      gap: 1rem; 
      align-items: stretch; 
    }
    .card { 
      grid-column: span 4; 
      background: var(--card); 
      border-radius: 18px; 
      box-shadow: var(--shadow); 
      overflow: hidden; 
      border: 1px solid rgba(2,6,23,.06); 
      display: flex; 
      flex-direction: column; 
    }
    .card img { width: 100%; height: 180px; object-fit: cover; }
    .card .body { 
      padding: 1rem; 
      display: flex; 
      flex-direction: column; 
      gap: .5rem; 
      flex-grow: 1; 
    }
    .chip { display: inline-flex; align-items: center; gap: .4rem; font-size: .8rem; background: #ecfdf5; color: #065f46; border: 1px solid #bbf7d0; padding: .2rem .5rem; border-radius: 999px; }

    /* Recommendation tool */
    .tool { 
      display: grid; 
      grid-template-columns: 1fr 1fr; 
      gap: 1.2rem; 
      align-items: stretch; 
    }
    .panel { 
      background: #fff; 
      border: 1px solid rgba(2,6,23,.06); 
      border-radius: 18px; 
      padding: 1rem; 
      box-shadow: var(--shadow); 
      display: flex; 
      flex-direction: column;
    }
    .panel h3 { margin: .2rem 0 1rem; }
    .field { display: grid; grid-template-columns: 1fr 1fr; gap: .8rem; margin-bottom: .8rem; }
    .field label { font-size: .9rem; color: var(--muted); }
    .field input, .field select { width: 100%; padding: .65rem .7rem; border-radius: .7rem; border: 1px solid rgba(2,6,23,.12); outline: none; background: #fff; }
    .field input:focus, .field select:focus { border-color: var(--brand); box-shadow: 0 0 0 4px var(--ring); }
    .row { display: grid; grid-template-columns: repeat(2, 1fr); gap: .8rem; }
    .help { font-size: .85rem; color: var(--muted); }
    .result-list { display: grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: .8rem; flex-grow: 1; }
    .result { border: 1px solid rgba(2,6,23,.08); border-radius: 16px; padding: .8rem; display: grid; grid-template-columns: 1fr auto; gap: .4rem; align-items: center; }
    #summary { flex-grow: 1; }

    /* Banner */
    .band { background: linear-gradient(90deg, var(--brand), #22c55e); color: #052e1d; border-radius: 16px; padding: 1rem; display: grid; grid-template-columns: 1fr auto; align-items: center; }
    .band strong { display: block; font-size: 1.1rem; }

    /* Footer */
    footer { background: #071b12; color: #bff3d4; margin-top: 2rem; }
    footer .container { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 1rem; padding: 2rem 1rem; }
    footer a { color: #dcfce7; }
    .subfooter { border-top: 1px solid rgba(255,255,255,.1); padding: .8rem 0; font-size: .9rem; color: #bbf7d0; }

    /* Sticky CTA */
    .floating { position: fixed; right: 1rem; bottom: 1rem; display: flex; flex-direction: column; gap: .6rem; }
    .floating .fab { background: var(--brand); color: #fff; padding: .8rem 1rem; border-radius: 999px; box-shadow: var(--shadow); border: none; font-weight: 700; }
    .floating .fab:hover { background: var(--brand-600); }

    /* Responsive adjustments for Contact section */
.contact-panels {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.2rem;
  align-items: stretch;
}
.contact-panel {
  background: #fff;
  border: 1px solid rgba(2, 6, 23, 0.06);
  border-radius: 18px;
  padding: 1rem;
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
}
.map-container {
  flex-grow: 1;
  height: 100%;
  min-height: 250px;
}
.map-container iframe {
  width: 100%;
  height: 100%;
  border-radius: 16px;
}

/* Responsive adjustments for Contact section */
.contact-panels {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.2rem;
  align-items: stretch;
}
.contact-panel {
  background: #fff;
  border: 1px solid rgba(2, 6, 23, 0.06);
  border-radius: 18px;
  padding: 1rem;
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
}
.map-container {
  flex-grow: 1;
  height: 100%;
  min-height: 250px;
}
.map-container iframe {
  width: 100%;
  height: 100%;
  border-radius: 16px;
}

/* Responsive */
@media (max-width: 980px) {
  .hero-inner {
    grid-template-columns: 1fr;
    padding: 1.6rem 0 1.4rem; /* Halved from original 3.2rem/2.8rem */
  }
  .hero h1 {
    font-size: clamp(1.5rem, 4vw, 2rem); /* Significantly reduced */
  }
  .hero p {
    font-size: 0.8rem; /* Reduced */
  }
  .section-head h2 {
    font-size: 1.2rem; /* Reduced */
  }
  .tool {
    grid-template-columns: 1fr;
  }
  .result-list { 
    grid-template-columns: 1fr; 
  }
  .card { 
    grid-column: span 6; 
  }
  .contact-panels {
    grid-template-columns: 1fr;
  }
  .topbar-content {
    font-size: 0.6rem; /* Reduced */
    white-space: normal;
  }
  
  /* Mobile nav */
  nav ul {
    display: none;
  }
  /* NEW: Show only the hamburger on mobile */
  .nav-inner .menu-toggle {
    display: block;
    order: 2; /* Place it on the far left */
  }
  .nav-inner .brand {
    flex-grow: 0;
    justify-content: center;
  }
  .floating {
    right: 0.5rem; /* Reduced */
    bottom: 0.5rem; /* Reduced */
  }
  .fab {
    padding: 0.5rem 0.7rem; /* Reduced */
    font-size: 0.7rem; /* Reduced */
  }
  
  /** FIX: Show the mobile menu correctly on smaller screens. **/
  .mobile-nav-menu {
      display: flex;
  }
}

@media (max-width: 640px) {
  .container {
    padding: 10px 0.8rem; /* Reduced */
  }
  .hero h1 {
    font-size: 1.5rem; /* Further reduced */
  }
  .metrics {
    grid-template-columns: 1fr;
  }
  .grid { 
    grid-template-columns: repeat(6, 1fr); 
  }
  .card { 
    grid-column: span 6; 
  }
  footer .container { 
    grid-template-columns: 1fr;
  }
}
  </style>
</head>
<body>
  <div class="language-modal" id="language-modal">
    <div class="modal-content">
      <h3>Select Language | భాషను ఎంచుకోండి</h3>
      <div class="button-group">
        <button id="lang-en" class="modal-btn">English</button>
        <button id="lang-te" class="modal-btn">తెలుగు</button>
      </div>
    </div>
  </div>

  <div class="topbar">
    <div class="container">
      <span class="topbar-content" data-i18n="topbar_full"></span>
    </div>
  </div>

  <header class="nav">
    <div class="container nav-inner" id="nav-container">

      <div class="brand">
        <div class="logo" aria-hidden="true">🌿</div>
        <span data-i18n="brand_name">Venkateshwara Dealers</span>
      </div>
      <nav>
        <ul>
          <li><a href="#products" data-i18n="nav_products">Products</a></li>
          <li><a href="#tool" data-i18n="nav_finder">Pump Finder</a></li>
          <li class="language-select-container">
          <div class="lang-heading" data-i18n="language_heading">Language</div>
            <div class="lang-options">
              <a href="#" class="lang-link" data-lang="en">English</a>
              <a href="#" class="lang-link" data-lang="te">తెలుగు</a>
            </div>
          </li>
          <li><a href="#contact" class="btn" data-i18n="nav_contact">Location</a></li>
        </ul>
      </nav>
      <button class="menu-toggle" aria-label="Toggle navigation menu" onclick="openNav()">
        <span class="hamburger-icon"></span>
      </button>
      </div>
  </header>
  
  <div class="mobile-nav-menu" id="mySidebar">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
      <ul>
          <li><a href="#products" data-i18n="nav_products">Products</a></li>
          <li><a href="#tool" data-i18n="nav_finder">Pump Finder</a></li>
          <li class="mobile-language-select">
            <div class="lang-heading" data-i18n="language_heading">Language</div>
            <div class="lang-options">
              <a href="#" class="lang-link" data-lang="en">English</a>
              <a href="#" class="lang-link" data-lang="te">తెలుగు</a>
            </div>
          </li>
          <li><a href="#contact" data-i18n="nav_contact">Location</a></li>
      </ul>
  </div>

  <div class="banner">
      <img src="https://www.samudra.com/samudrapumps/Images/slide_new.webp" alt="Samudra banner - a plant in cupped hands" style="width: 100%; height: auto; display: block;" />
    </div>
  <section class="hero">
    <div class="container hero-inner">
      <div>
        <div class="chip" data-i18n="hero_chip">Energy-efficient • ISI certified</div>
        <h1 data-i18n="hero_title">Reliable pumps for Indian farms.</h1>
        <p data-i18n="hero_para">From borewell submersibles to high-head centrifugal pumps, we build irrigation solutions that save power, deliver consistent discharge, and last through tough seasons.</p>
        <div class="metrics">
          <div class="metric"><strong>25–280 m</strong><span class="muted" data-i18n="hero_metric1">Head range</span></div>
          <div class="metric"><strong>20–600 LPM</strong><span class="muted" data-i18n="hero_metric2">Discharge</span></div>
          <div class="metric"><strong>0.5–15 HP</strong><span class="muted" data-i18n="hero_metric3">Power options</span></div>
        </div>
      </div>
      <div class="hero-art">
        <div class="art-card">
          <div class="art-img" role="img" aria-label="A farmer irrigating crop with pump"></div>
          <p class="help" data-i18n="hero_help">Proven in paddy, sugarcane, horticulture & more.</p>
        </div>
      </div>
    </div>
  </section>

  <section id="products">
    <div class="container">
      <div class="section-head">
        <h2 data-i18n="prod_heading">Popular Pump Lines</h2>
        <p class="muted" data-i18n="prod_para">Built for borewells, open wells, and surface sources.</p>
      </div>
      <div class="grid">
        <div class="card">
          <img alt="4-inch submersible pump" src="https://images.unsplash.com/photo-1568607689150-17e625c1586c?q=80&w=1600&auto=format&fit=crop" />
          <div class="body">
            <div class="chip" data-i18n="prod_chip1">Borewell</div>
            <h3 data-i18n="prod_title1">4" Submersible</h3>
            <p class="muted" data-i18n="prod_desc1">Deep borewell use, high efficiency with stainless steel stages.</p>
            <div>
              <a class="btn" href="#tool" data-i18n="prod_btn1">See if it fits →</a>
            </div>
          </div>
        </div>
        <div class="card">
          <img alt="Centrifugal pump" src="https://images.unsplash.com/photo-1503387762-592deb58ef4e?q=80&w=1600&auto=format&fit=crop" />
          <div class="body">
            <div class="chip" data-i18n="prod_chip2">Open Well / Surface</div>
            <h3 data-i18n="prod_title2">High-Head Centrifugal</h3>
            <p class="muted" data-i18n="prod_desc2">Ideal for sprinklers & undulating farms with moderate head.</p>
            <div>
              <a class="btn" href="#tool" data-i18n="prod_btn2">Check compatibility →</a>
            </div>
          </div>
        </div>
        <div class="card">
          <img alt="Monoblock pump" src="https://images.unsplash.com/photo-1530977875151-aae9742c473b?q=80&w=1600&auto=format&fit=crop" />
          <div class="body">
            <div class="chip" data-i18n="prod_chip3">Surface</div>
            <h3 data-i18n="prod_title3">Monoblock</h3>
            <p class="muted" data-i18n="prod_desc3">Affordable workhorse for small farms and drip lines.</p>
            <div>
              <a class="btn" href="#tool" data-i18n="prod_btn3">Compare →</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="tool">
    <div class="container">
      <div class="section-head">
        <h2 data-i18n="tool_heading">Pump Recommendation Tool</h2>
        <p class="muted" data-i18n="tool_para">Answer a few questions and get tailored pump suggestions.</p>
      </div>

      <div class="tool">
        <div class="panel" aria-labelledby="finder-heading">
          <h3 id="finder-heading" data-i18n="finder_heading">Your Farm Details</h3>

          <div class="field">
            <div>
              <label for="crop" data-i18n="label_crop">Primary crop</label>
              <select id="crop">
                <option data-i18n="option_crop1">Rice / Paddy</option>
                <option data-i18n="option_crop2">Wheat</option>
                <option data-i18n="option_crop3">Sugarcane</option>
                <option data-i18n="option_crop4">Vegetables</option>
                <option data-i18n="option_crop5">Orchard / Horticulture</option>
                <option data-i18n="option_crop6">Other / Mixed</option>
              </select>
            </div>
            <div>
              <label for="area" data-i18n="label_area">Farm area (acres)</label>
              <input id="area" type="number" min="0.1" step="0.1" data-i18n-placeholder="ph_area" placeholder="e.g., 3" />
            </div>
          </div>

          <div class="field">
            <div>
              <label for="source" data-i18n="label_source">Water source</label>
              <select id="source">
                <option data-i18n="option_source1">Open Well / Tank</option>
                <option data-i18n="option_source2">Borewell</option>
                <option data-i18n="option_source3">Canal / River</option>
              </select>
            </div>
            <div>
              <label for="depth" data-i18n="label_depth">Static water level (m)</label>
              <input id="depth" type="number" min="0" step="1" data-i18n-placeholder="ph_depth" placeholder="e.g., 45" />
            </div>
          </div>

          <div class="field">
            <div>
              <label for="head" data-i18n="label_head">Total head required (m)</label>
              <input id="head" type="number" min="5" step="1" data-i18n-placeholder="ph_head" placeholder="e.g., 60" />
            </div>
            <div>
              <label for="flow" data-i18n="label_flow">Desired discharge (LPM)</label>
              <input id="flow" type="number" min="10" step="5" data-i18n-placeholder="ph_flow" placeholder="e.g., 120" />
            </div>
          </div>

          <div class="field">
            <div>
              <label for="method" data-i18n="label_method">Irrigation method</label>
              <select id="method">
                <option data-i18n="option_method1">Flood</option>
                <option data-i18n="option_method2">Sprinkler</option>
                <option data-i18n="option_method3">Drip</option>
              </select>
            </div>
            <div>
              <label for="phase" data-i18n="label_phase">Power supply</label>
              <select id="phase">
                <option data-i18n="option_phase1">Single-phase (220V)</option>
                <option data-i18n="option_phase2">Three-phase (415V)</option>
              </select>
            </div>
          </div>

          <div class="field">
            <div>
              <label for="budget" data-i18n="label_budget">Budget</label>
              <select id="budget">
                <option data-i18n="option_budget1">Economy</option>
                <option data-i18n="option_budget2">Mid</option>
                <option data-i18n="option_budget3">Premium</option>
              </select>
            </div>
            <div class="help" data-i18n="tool_help">Tip: Head is the vertical lift + friction losses. If unsure, add 20% safety.</div>
          </div>

          <div class="row">
            <button class="btn primary" id="recommendBtn" data-i18n="btn_recommend">Get Recommendations</button>
            <button class="btn" id="resetBtn" data-i18n="btn_reset">Reset</button>
          </div>
        </div>

        <div class="panel" aria-live="polite">
          <h3 data-i18n="suggested_heading">Suggested Pumps</h3>
          <div id="summary" class="help" data-i18n="summary_initial">Fill the form and click <strong>Get Recommendations</strong>.</div>
          <div class="result-list" id="results"></div>

          <div class="band" style="margin-top: .8rem;">
            <div>
              <strong data-i18n="band_strong">Need help sizing pipe & cables?</strong>
              <span class="muted" data-i18n="band_span">Our engineers can share a full BOQ with losses and efficiency estimates.</span>
            </div>
            <a class="btn" href="#contact" data-i18n="band_btn">Talk to an expert</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="about">
    <div class="container">
      <div class="section-head">
        <h2 data-i18n="about_heading">Why farmers choose Venkateshwara Dealers</h2>
        <p class="muted" data-i18n="about_para">We combine efficiency, durability, and fast service.</p>
      </div>
      <div class="grid">
        <div class="card" style="grid-column: span 6;">
          <div class="body">
            <h3 data-i18n="about_title1">Energy-efficient by design</h3>
            <p class="muted" data-i18n="about_desc1">ISI-marked motors, copper windings, and optimized hydraulic designs save 10–18% power vs. market average.</p>
          </div>
        </div>
        <div class="card" style="grid-column: span 6;">
          <div class="body">
            <h3 data-i18n="about_title2">Rugged for Indian conditions</h3>
            <p class="muted" data-i18n="about_desc2">Sand-tolerant stages and robust bearings ensure long life even in challenging water quality.</p>
          </div>
        </div>
        <div class="card" style="grid-column: span 6;">
          <div class="body">
            <h3 data-i18n="about_title3">Fast parts & service</h3>
            <p class="muted" data-i18n="about_desc3">Nationwide dealer network with 48–72 hr turnaround on most spares.</p>
          </div>
        </div>
        <div class="card" style="grid-column: span 6;">
          <div class="body">
            <h3 data-i18n="about_title4">Solar-ready options</h3>
            <p class="muted" data-i18n="about_desc4">Compatible VFD and MPPT controllers available for off-grid irrigation.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="contact">
    <div class="container">
      <div class="section-head">
        <h2 data-i18n="contact_heading">Contact & Enquiries</h2>
      </div>
      <div class="contact-panels">
        <div class="contact-panel">
          <h3 data-i18n="address_heading">Address</h3>
          <address> Opp. C.W.C Godowns,<br/> Near Sri Chaitanya Techno School,<br/> Nallajarla Road, K.N.Road,<br/> Tadepalligudem, West Godavari,<br/> Andhra Pradesh 534101 </address>
          <p>📞 +91 89853 14256, +91 94949 09126<br/>✉️ hello@Venkateshwara Dealers.example</p>
        </div>
        <div class="contact-panel map-container">
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d30553.145216376906!2d81.49535691608094!3d16.81925297432941!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3a37b5a23a5f968d%3A0x9d122a4ea0af2119!2sVenkateshwara%20Dealers%20-%20SAMUDRA%20PUMPS%20Authorized%20dealer%20(REDDY%20GARI%20FOUNDRE)!5e0!3m2!1sen!2sin!4v1757394051274!5m2!1sen!2sin" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <div>
        <div class="brand"><div class="logo">🌿</div><span data-i18n="brand_name">Venkateshwara Dealers</span></div>
        <p class="muted" data-i18n="footer_text">High-efficiency pumps for Indian agriculture. © 2025 Venkateshwara Dealers.</p>
      </div>
    </div>
    <div class="subfooter">
      <div class="container" data-i18n="subfooter_text">Made with ❤️ for farmers</div>
    </div>
  </footer>

  <div class="floating">
    <a class="fab" href="#tool" data-i18n="fab_finder">Find my pump</a>
    <a class="fab" href="https://api.whatsapp.com/send?phone=910000000000&text=Hi" target="_blank" rel="noreferrer noopener" data-i18n="fab_whatsapp">Chat on WhatsApp</a>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
  const modal = document.getElementById('language-modal');
  const langEnBtn = document.getElementById('lang-en');
  const langTeBtn = document.getElementById('lang-te');
  const navContainer = document.getElementById('nav-container');
  // Mobile Language Toggle
const mobileLangSelect = document.querySelector('.mobile-language-select');
const mobileLangHeading = mobileLangSelect.querySelector('.lang-heading');

mobileLangHeading.addEventListener('click', () => {
  mobileLangSelect.classList.toggle('open');
});

  // NEW: Sidebar elements
  const sidebar = document.getElementById('mySidebar');
  // const mainContent = document.getElementById('main-content-wrapper'); // REMOVED

  // MODIFIED: Functions to open and close the sidebar
  function openNav() {
      sidebar.classList.add('is-active');
      // mainContent.style.marginLeft = "280px"; // REMOVED
  }
  
  function closeNav() {
      sidebar.classList.remove('is-active');
      // mainContent.style.marginLeft = "0"; // REMOVED
  }
  
  // NEW: Add these functions to the global scope so they can be called from the onclick attributes
  window.openNav = openNav;
  window.closeNav = closeNav;

  // Show the modal with a fade-in effect
  modal.classList.add('is-active');

  function hideModal(lang) {
    modal.classList.remove('is-active');
    setLanguage(lang);
  }

  langEnBtn.addEventListener('click', () => {
    hideModal('en');
  });

  langTeBtn.addEventListener('click', () => {
    hideModal('te');
  });

  // Handle new language links
  document.querySelectorAll('.lang-link').forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();
      const lang = e.target.getAttribute('data-lang');
      setLanguage(lang);
      setLanguageActiveState(lang);
      // Hide modal if it's active
      if (modal.classList.contains('is-active')) {
        modal.classList.remove('is-active');
      }
      // NEW: Close sidebar after clicking a link
      closeNav();
    });
  });

  function setLanguageActiveState(lang) {
    document.querySelectorAll('.lang-link').forEach(link => {
      link.classList.remove('is-active');
      if (link.getAttribute('data-lang') === lang) {
        link.classList.add('is-active');
      }
    });
  }

  // Smooth Scroll
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      e.preventDefault();
      const targetId = this.getAttribute('href');
      const targetElement = document.querySelector(targetId);
      if (targetElement) {
        targetElement.scrollIntoView({ behavior: 'smooth' });
        // NEW: Close sidebar after clicking a link
        closeNav();
      }
    });
  });

  // Hamburger Menu
  // OLD: Hamburger toggle functionality is now handled by the openNav/closeNav functions
  // menuToggle.addEventListener('click', () => {
  //   navContainer.classList.toggle('active');
  // });

  // document.querySelectorAll('.mobile-nav-menu a').forEach(link => {
  //   link.addEventListener('click', () => {
  //     navContainer.classList.remove('active');
  //   });
  // });

  // Set initial language from the modal
  setLanguage('en');
  setLanguageActiveState('en');
});

    const translations = {
      en: {
        language_heading: 'Language',
        topbar_full: '🇮🇳 Trusted by Godavari farmers | Enquiries: Mr. Siddhartha Reddy - <a href="tel:+918985314256">+91 89853 14256</a>, <a href="tel:+919494909126">+91 94949 09126</a> | Timings: (9 am to 8 pm)',
        brand_name: 'Venkateshwara Dealers',
        nav_products: 'Products',
        nav_finder: 'Pump Finder',
        nav_contact: 'Location',
        hero_chip: 'Energy-efficient • ISI certified',
        hero_title: 'Reliable pumps for Indian farms.',
        hero_para: 'From borewell submersibles to high-head centrifugal pumps, we build irrigation solutions that save power, deliver consistent discharge, and last through tough seasons.',
        hero_metric1: 'Head range',
        hero_metric2: 'Discharge',
        hero_metric3: 'Power options',
        hero_help: 'Proven in paddy, sugarcane, horticulture & more.',
        prod_heading: 'Popular Pump Lines',
        prod_para: 'Built for borewells, open wells, and surface sources.',
        prod_chip1: 'Borewell',
        prod_title1: '4" Submersible',
        prod_desc1: 'Deep borewell use, high efficiency with stainless steel stages.',
        prod_btn1: 'See if it fits →',
        prod_chip2: 'Open Well / Surface',
        prod_title2: 'High-Head Centrifugal',
        prod_desc2: 'Ideal for sprinklers & undulating farms with moderate head.',
        prod_btn2: 'Check compatibility →',
        prod_chip3: 'Surface',
        prod_title3: 'Monoblock',
        prod_desc3: 'Affordable workhorse for small farms and drip lines.',
        prod_btn3: 'Compare →',
        tool_heading: 'Pump Recommendation Tool',
        tool_para: 'Answer a few questions and get tailored pump suggestions.',
        finder_heading: 'Your Farm Details',
        label_crop: 'Primary crop',
        option_crop1: 'Rice / Paddy',
        option_crop2: 'Wheat',
        option_crop3: 'Sugarcane',
        option_crop4: 'Vegetables',
        option_crop5: 'Orchard / Horticulture',
        option_crop6: 'Other / Mixed',
        label_area: 'Farm area (acres)',
        ph_area: 'e.g., 3',
        label_source: 'Water source',
        option_source1: 'Open Well / Tank',
        option_source2: 'Borewell',
        option_source3: 'Canal / River',
        label_depth: 'Static water level (m)',
        ph_depth: 'e.g., 45',
        label_head: 'Total head required (m)',
        ph_head: 'e.g., 60',
        label_flow: 'Desired discharge (LPM)',
        ph_flow: 'e.g., 120',
        label_method: 'Irrigation method',
        option_method1: 'Flood',
        option_method2: 'Sprinkler',
        option_method3: 'Drip',
        label_phase: 'Power supply',
        option_phase1: 'Single-phase (220V)',
        option_phase2: 'Three-phase (415V)',
        label_budget: 'Budget',
        option_budget1: 'Economy',
        option_budget2: 'Mid',
        option_budget3: 'Premium',
        tool_help: 'Tip: Head is the vertical lift + friction losses. If unsure, add 20% safety.',
        btn_recommend: 'Get Recommendations',
        btn_reset: 'Reset',
        suggested_heading: 'Suggested Pumps',
        summary_initial: 'Fill the form and click <strong>Get Recommendations</strong>.',
        summary_result: 'Based on your {source} with {head} m of head, we recommend a pump that can deliver at least {flow} LPM to irrigate your {area} acre farm using a {method} system.',
        band_strong: 'Need help sizing pipe & cables?',
        band_span: 'Our engineers can share a full BOQ with losses and efficiency estimates.',
        band_btn: 'Talk to an expert',
        about_heading: 'Why farmers choose Venkateshwara Dealers',
        about_para: 'We combine efficiency, durability, and fast service.',
        about_title1: 'Energy-efficient by design',
        about_desc1: 'ISI-marked motors, copper windings, and optimized hydraulic designs save 10–18% power vs. market average.',
        about_title2: 'Rugged for Indian conditions',
        about_desc2: 'Sand-tolerant stages and robust bearings ensure long life even in challenging water quality.',
        about_title3: 'Fast parts & service',
        about_desc3: 'Nationwide dealer network with 48–72 hr turnaround on most spares.',
        about_title4: 'Solar-ready options',
        about_desc4: 'Compatible VFD and MPPT controllers available for off-grid irrigation.',
        contact_heading: 'Contact & Enquiries',
        address_heading: 'Address',
        footer_text: 'High-efficiency pumps for Indian agriculture. © new Date().getFullYear(); Venkateshwara Dealers.',
        subfooter_text: 'Made with ❤️ for farmers',
        fab_finder: 'Find my pump',
        fab_whatsapp: 'Chat on WhatsApp',
        
        // Product card recommendations
        reco_title1: '4" V-Guard Pump',
        reco_desc1: '1 HP | 25-60m head | 80 LPM | Single-phase',
        reco_title2: '6" V-Guard Pump',
        reco_desc2: '3 HP | 45-90m head | 150 LPM | Three-phase',
        reco_title3: 'Samudra Mini Mono',
        reco_desc3: '0.5 HP | 10-25m head | 60 LPM | Single-phase',
        reco_title4: 'Samudra 3" Submersible',
        reco_desc4: '1 HP | 25-80m head | 50 LPM | Single-phase',
        reco_title5: 'Samudra High-Head',
        reco_desc5: '5 HP | 60-120m head | 200 LPM | Three-phase',
        reco_title6: 'Samudra Open Well',
        reco_desc6: '2 HP | 15-40m head | 120 LPM | Single-phase',
      },
      te: {
        language_heading: 'భాష',
        topbar_full: 'గోదావరి రైతుల నమ్మకానికి నిలువుటద్దం | విచారణలు: శ్రీ. సిద్ధార్థ రెడ్డి - <a href="tel:+918985314256">+91 89853 14256</a>, <a href="tel:+919494909126">+91 94949 09126</a> | పనివేళలు: (ఉ. 9 నుండి సా. 8 వరకు)',
        brand_name: 'వెంకటేశ్వర డీలర్స్',
        nav_products: 'ఉత్పత్తులు',
        nav_finder: 'పంపు ఫైండర్',
        nav_contact: 'సంప్రదించండి',
        hero_chip: 'శక్తి-సామర్థ్యవంతమైన • ISI ధృవీకరించబడినది',
        hero_title: 'భారతీయ వ్యవసాయ క్షేత్రాలకు నమ్మకమైన పంపులు.',
        hero_para: 'బోర్వెల్ సబ్మెర్సిబుల్స్ నుండి హై-హెడ్ సెంట్రిఫుగల్ పంపుల వరకు, మేము శక్తిని ఆదా చేసే, స్థిరమైన డిశ్చార్జిని అందించే, మరియు కఠినమైన సీజన్లలో కూడా నిలిచే నీటిపారుదల పరిష్కారాలను నిర్మిస్తాము.',
        hero_metric1: 'హెడ్ పరిధి',
        hero_metric2: 'డిశ్చార్జ్',
        hero_metric3: 'పవర్ ఎంపికలు',
        hero_help: 'వరి, చెరకు, ఉద్యానవన పంటలు మొదలైన వాటిలో నిరూపించబడింది.',
        prod_heading: 'ప్రసిద్ధ పంపు లైన్లు',
        prod_para: 'బోర్వెల్స్, ఓపెన్ వెల్స్, మరియు ఉపరితల వనరుల కోసం తయారు చేయబడింది.',
        prod_chip1: 'బోర్వెల్',
        prod_title1: '4" సబ్మెర్సిబుల్',
        prod_desc1: 'లోతైన బోర్వెల్ ఉపయోగం, స్టెయిన్‌లెస్ స్టీల్ దశలతో అధిక సామర్థ్యం.',
        prod_btn1: 'ఇది సరిపోతుందో లేదో చూడండి →',
        prod_chip2: 'ఓపెన్ వెల్ / ఉపరితలం',
        prod_title2: 'హై-హెడ్ సెంట్రిఫుగల్',
        prod_desc2: 'స్పింక్లర్లు మరియు ఎగుడుదిగుడుగా ఉన్న పొలాలకు అనువైనది.',
        prod_btn2: 'సరిపోతుందో లేదో తనిఖీ చేయండి →',
        prod_chip3: 'ఉపరితలం',
        prod_title3: 'మోనోబ్లాక్',
        prod_desc3: 'చిన్న పొలాలు మరియు డ్రిప్ లైన్ల కోసం సరసమైన పనిమంతుడు.',
        prod_btn3: 'పోల్చండి →',
        tool_heading: 'పంపు సిఫార్సు సాధనం',
        tool_para: 'కొన్ని ప్రశ్నలకు సమాధానం ఇవ్వండి మరియు అనుకూలీకరించిన పంపు సూచనలను పొందండి.',
        finder_heading: 'మీ పొలం వివరాలు',
        label_crop: 'ప్రధాన పంట',
        option_crop1: 'వరి / ప్యాడీ',
        option_crop2: 'గోధుమ',
        option_crop3: 'చెరకు',
        option_crop4: 'కూరగాయలు',
        option_crop5: 'పండ్లతోట / ఉద్యానవనం',
        option_crop6: 'ఇతర / మిశ్రమ',
        label_area: 'పొలం విస్తీర్ణం (ఎకరాలు)',
        ph_area: 'ఉదా., 3',
        label_source: 'నీటి వనరు',
        option_source1: 'ఓపెన్ వెల్ / ట్యాంక్',
        option_source2: 'బోర్వెల్',
        option_source3: 'కాలువ / నది',
        label_depth: 'స్థిర నీటి మట్టం (మీ)',
        ph_depth: 'ఉదా., 45',
        label_head: 'మొత్తం అవసరమైన హెడ్ (మీ)',
        ph_head: 'ఉదా., 60',
        label_flow: 'కావలసిన డిశ్చార్జ్ (LPM)',
        ph_flow: 'ఉదా., 120',
        label_method: 'నీటిపారుదల పద్ధతి',
        option_method1: 'పొలాలకు నీరు పెట్టడం',
        option_method2: 'స్పింక్లర్',
        option_method3: 'డ్రిప్',
        label_phase: 'విద్యుత్ సరఫరా',
        option_phase1: 'సింగిల్-ఫేజ్ (220V)',
        option_phase2: 'త్రీ-ఫేజ్ (415V)',
        label_budget: 'బడ్జెట్',
        option_budget1: 'తక్కువ ధర',
        option_budget2: 'మిడ్',
        option_budget3: 'ప్రీమియం',
        tool_help: 'చిట్కా: హెడ్ అనేది నిలువు లిఫ్ట్ + రాపిడి నష్టాలు. ఖచ్చితంగా తెలియకపోతే, 20% భద్రతను జోడించండి.',
        btn_recommend: 'సిఫార్సులను పొందండి',
        btn_reset: 'రీసెట్',
        suggested_heading: 'సూచించిన పంపులు',
        summary_initial: 'ఫారం నింపి, <strong>సిఫార్సులను పొందండి</strong>పై క్లిక్ చేయండి.',
        summary_result: 'మీరు ఎంచుకున్న {source} మరియు {head} మీటర్ల హెడ్ ఆధారంగా, మీ {area} ఎకరాల పొలానికి {method} పద్ధతిలో నీరు అందించడానికి కనీసం {flow} LPM డిశ్చార్జిని అందించగల పంపును మేము సిఫార్సు చేస్తున్నాము.',
        band_strong: 'పైపు మరియు కేబుళ్లను అమర్చడంలో సహాయం కావాలా?',
        band_span: 'మా ఇంజనీర్లు నష్టాలు మరియు సామర్థ్యం అంచనాలతో పూర్తి BOQ ను పంచుకోవచ్చు.',
        band_btn: 'నిపుణుడితో మాట్లాడండి',
        about_heading: 'రైతులు వెంకటేశ్వర డీలర్స్ ను ఎందుకు ఎంచుకుంటారు',
        about_para: 'మేము సామర్థ్యం, మన్నిక, మరియు వేగవంతమైన సేవలను అందిస్తాము.',
        about_title1: 'రూపకల్పనలోనే శక్తి-సామర్థ్యవంతమైనది',
        about_desc1: 'ISI-మార్క్ చేసిన మోటార్లు, కాపర్ వైండింగ్‌లు మరియు ఆప్టిమైజ్ చేయబడిన హైడ్రాలిక్ డిజైన్‌లు మార్కెట్ సగటు కంటే 10–18% శక్తిని ఆదా చేస్తాయి.',
        about_title2: 'భారతీయ పరిస్థితులకు కఠినమైనది',
        about_desc2: 'ఇసుక-నిరోధక దశలు మరియు దృఢమైన బేరింగ్‌లు కఠినమైన నీటి నాణ్యతలో కూడా సుదీర్ఘ జీవితాన్ని నిర్ధారిస్తాయి.',
        about_title3: 'వేగవంతమైన భాగాలు & సేవ',
        about_desc3: 'దేశవ్యాప్తంగా ఉన్న డీలర్ నెట్‌వర్క్ చాలా విడిభాగాలపై 48–72 గంటల వ్యవధిలో సేవను అందిస్తుంది.',
        about_title4: 'సౌర-సిద్ధంగా ఉన్న ఎంపికలు',
        about_desc4: 'ఆఫ్-గ్రిడ్ నీటిపారుదల కోసం అనుకూల VFD మరియు MPPT నియంత్రికలు అందుబాటులో ఉన్నాయి.',
        contact_heading: 'సంప్రదించండి & విచారణలు',
        address_heading: 'చిరునామా',
        footer_text: 'భారతీయ వ్యవసాయానికి అధిక-సామర్థ్య పంపులు. © 2025 వెంకటేశ్వర డీలర్స్.',
        subfooter_text: 'రైతుల కోసం ❤️తో తయారు చేయబడింది',
        fab_finder: 'నా పంపును కనుగొనండి',
        fab_whatsapp: 'వాట్సాప్‌లో చాట్ చేయండి',
        
        // Product card recommendations
        reco_title1: '4" V-Guard పంపు',
        reco_desc1: '1 HP | 25-60m హెడ్ | 80 LPM | సింగిల్-ఫేజ్',
        reco_title2: '6" V-Guard పంపు',
        reco_desc2: '3 HP | 45-90m హెడ్ | 150 LPM | త్రీ-ఫేజ్',
        reco_title3: 'సముద్ర మినీ మోనో',
        reco_desc3: '0.5 HP | 10-25m హెడ్ | 60 LPM | సింగిల్-ఫేజ్',
        reco_title4: 'సముద్ర 3" సబ్మెర్సిబుల్',
        reco_desc4: '1 HP | 25-80m హెడ్ | 50 LPM | సింగిల్-ఫేజ్',
        reco_title5: 'సముద్ర హై-హెడ్',
        reco_desc5: '5 HP | 60-120m హెడ్ | 200 LPM | త్రీ-ఫేజ్',
        reco_title6: 'సముద్ర ఓపెన్ వెల్',
        reco_desc6: '2 HP | 15-40m హెడ్ | 120 LPM | సింగిల్-ఫేజ్',
      },
    };

    function setLanguage(lang) {
      const elements = document.querySelectorAll('[data-i18n]');
      elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
          if (key === 'topbar_full') {
            el.innerHTML = translations[lang][key];
          } else {
            el.textContent = translations[lang][key];
          }
        }
      });

      const placeholders = document.querySelectorAll('[data-i18n-placeholder]');
      placeholders.forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (translations[lang] && translations[lang][key]) {
          el.placeholder = translations[lang][key];
        }
      });
      // Handle the year in the footer separately since it's not in the translation object
      const yearEl = document.querySelector('p[data-i18n="footer_text"]');
      if (yearEl) {
          yearEl.innerHTML = translations[lang].footer_text.replace('new Date().getFullYear();', new Date().getFullYear());
      }
    }

    function recommend({ crop, area, source, depth, head, flow, method, phase, budget }) {
      const recommendations = {
        'rice': { 'single': { 'borewell': [{ title: 'reco_title1', desc: 'reco_desc1' }, { title: 'reco_title4', desc: 'reco_desc4' }], 'open': [{ title: 'reco_title3', desc: 'reco_desc3' }, { title: 'reco_title6', desc: 'reco_desc6' }] } },
        'sugarcane': { 'single': { 'borewell': [{ title: 'reco_title1', desc: 'reco_desc1' }, { title: 'reco_title4', desc: 'reco_desc4' }], 'open': [{ title: 'reco_title3', desc: 'reco_desc3' }, { title: 'reco_title6', desc: 'reco_desc6' }] } },
        'other': { 'single': { 'borewell': [{ title: 'reco_title1', desc: 'reco_desc1' }, { title: 'reco_title4', desc: 'reco_desc4' }], 'open': [{ title: 'reco_title3', desc: 'reco_desc3' }, { title: 'reco_title6', desc: 'reco_desc6' }] } },
      };
      
      const sourceType = source.toLowerCase().includes('borewell') ? 'borewell' : 'open';
      const powerType = phase.toLowerCase().includes('single') ? 'single' : 'three';

      let suggestions = [];
      const cropKey = crop.toLowerCase().includes('rice') ? 'rice' : (crop.toLowerCase().includes('sugarcane') ? 'sugarcane' : 'other');

      if (recommendations[cropKey] && recommendations[cropKey][powerType] && recommendations[cropKey][powerType][sourceType]) {
        suggestions = recommendations[cropKey][powerType][sourceType];
      }
      return suggestions;
    }

    function renderResults(suggestions, summaryText) {
      const resultsEl = document.getElementById('results');
      const summaryEl = document.getElementById('summary');
      const currentLang = document.querySelector('.lang-link.is-active')?.getAttribute('data-lang') || 'en';

      resultsEl.innerHTML = '';
      if (suggestions.length === 0) {
        summaryEl.textContent = 'No recommendations found for your criteria. Please contact our team for a personalized solution.';
      } else {
        summaryEl.innerHTML = summaryText;
        suggestions.forEach(s => {
          const resultDiv = document.createElement('div');
          resultDiv.classList.add('result');
          const title = translations[currentLang][s.title];
          const desc = translations[currentLang][s.desc];
          resultDiv.innerHTML = `<div><strong>${title}</strong><p class="muted" style="margin:0">${desc}</p></div><button class="btn primary">View Details</button>`;
          resultsEl.appendChild(resultDiv);
        });
      }
    }

    document.getElementById('recommendBtn').addEventListener('click', () => {
      const currentLang = document.querySelector('.lang-link.is-active')?.getAttribute('data-lang') || 'en';

      const crop = document.getElementById('crop').options[document.getElementById('crop').selectedIndex].text;
      const area = document.getElementById('area').value;
      const source = document.getElementById('source').options[document.getElementById('source').selectedIndex].text;
      const depth = document.getElementById('depth').value;
      const head = document.getElementById('head').value;
      const flow = document.getElementById('flow').value;
      const method = document.getElementById('method').options[document.getElementById('method').selectedIndex].text;
      const phase = document.getElementById('phase').options[document.getElementById('phase').selectedIndex].text;
      const budget = document.getElementById('budget').options[document.getElementById('budget').selectedIndex].text;

      const suggestions = recommend({ crop, area, source, depth, head, flow, method, phase, budget });
      
      const summaryTemplate = translations[currentLang].summary_result;
      const summaryText = summaryTemplate.replace('{source}', source).replace('{head}', head).replace('{flow}', flow).replace('{method}', method).replace('{area}', area);
      
      renderResults(suggestions, summaryText);
    });

    document.getElementById('resetBtn').addEventListener('click', () => {
      const currentLang = document.querySelector('.lang-link.is-active')?.getAttribute('data-lang') || 'en';
      document.getElementById('results').innerHTML = '';
      const summaryEl = document.getElementById('summary');
      summaryEl.innerHTML = translations[currentLang].summary_initial;
      document.querySelectorAll('#tool input').forEach(i => i.value = '');
      document.querySelector('#crop').selectedIndex = 0;
      document.querySelector('#source').selectedIndex = 0;
      document.querySelector('#method').selectedIndex = 0;
      document.querySelector('#phase').selectedIndex = 0;
      document.querySelector('#budget').selectedIndex = 1;
    });
</script>
</body>
</html>
